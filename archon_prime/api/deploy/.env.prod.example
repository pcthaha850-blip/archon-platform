# ============================================================
# ARCHON PRIME - Production Environment Configuration
# ============================================================
#
# SECURITY NOTICE:
# - NEVER store this file with real secrets in version control
# - Use a secrets manager (Vault, AWS Secrets Manager, etc.)
# - Rotate secrets regularly
# - Use different keys for each environment
#
# Copy to .env.prod and fill in real values from your secrets manager
# ============================================================

# Application
APP_ENV=production
DEBUG=false
HOST=0.0.0.0
PORT=8000

# Database (Managed PostgreSQL - AWS RDS / Cloud SQL / Azure PostgreSQL)
# Use connection pooling (PgBouncer / RDS Proxy)
# Enable SSL: ?ssl=require or ?sslmode=verify-full
DATABASE_URL=postgresql+asyncpg://archon_prod:${DB_PASSWORD}@prod-db.region.rds.amazonaws.com:5432/archon_prime?ssl=require

# Redis (Managed Redis - ElastiCache / Memorystore / Azure Cache)
# Enable TLS: rediss:// instead of redis://
REDIS_URL=rediss://:${REDIS_PASSWORD}@prod-redis.region.cache.amazonaws.com:6379/0

# Security - FROM SECRETS MANAGER
# These should be injected at runtime, not stored in files
JWT_SECRET_KEY=${JWT_SECRET_FROM_VAULT}
JWT_REFRESH_SECRET_KEY=${JWT_REFRESH_SECRET_FROM_VAULT}
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Encryption - FROM SECRETS MANAGER
ENCRYPTION_KEY=${ENCRYPTION_KEY_FROM_VAULT}

# CORS (production domains only)
CORS_ORIGINS=["https://app.archon.ai","https://admin.archon.ai"]

# Rate Limiting (stricter in production)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60

# Logging
LOG_LEVEL=WARNING
LOG_FORMAT=json

# Signal Gate (conservative defaults)
SIGNAL_CONFIDENCE_THRESHOLD=0.75
SIGNAL_MAX_POSITIONS=5
SIGNAL_MAX_DAILY_SIGNALS=50

# Features
MAINTENANCE_MODE=false
TRADING_ENABLED=true
REGISTRATION_ENABLED=false  # Controlled onboarding

# Monitoring
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
METRICS_ENABLED=true
METRICS_PORT=9090

# Scaling
API_REPLICAS=3
WORKER_REPLICAS=2
DOCKER_REGISTRY=your-registry.ecr.region.amazonaws.com/archon
VERSION=1.0.0
